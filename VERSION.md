# 버전 관리 가이드

## 현재 버전

**v1.0.0** - Initial stable release (2025-01-06)

## 버전 정보

### v1.0.0 (2025-01-06)
- ✅ 이미지 및 PDF 파일 업로드 및 렌더링
- ✅ 다중 크롭 영역 선택 및 관리
- ✅ PDF 다중 페이지 지원 및 페이지 네비게이션
- ✅ 커스텀 프롬프트 입력 및 저장/불러오기
- ✅ OCR 실행 및 결과 표시
- ✅ OCR 히스토리 관리 (파일별 그룹화)
- ✅ 텍스트 편집 및 삭제 기능
- ✅ OCR 진행 중 페이지 이동 지원
- ✅ Qwen2.5-VL 7B 모델 사용
- ✅ 중복 텍스트 패턴 제거 기능

---

## 버전 롤백 방법

### 1. 현재 버전 확인

```bash
# 현재 브랜치와 커밋 확인
git log --oneline -5

# 모든 태그 확인
git tag -l

# 특정 태그의 상세 정보 확인
git show v1.0.0
```

### 2. 버전 1.0.0으로 롤백

#### 방법 1: 특정 태그로 체크아웃 (읽기 전용)

```bash
# 버전 1.0.0으로 체크아웃 (detached HEAD 상태)
git checkout v1.0.0

# 이 상태에서 테스트 및 확인
# 변경사항을 유지하려면 새 브랜치 생성 필요
```

#### 방법 2: 새 브랜치 생성하여 롤백

```bash
# 버전 1.0.0에서 새 브랜치 생성
git checkout -b rollback-v1.0.0 v1.0.0

# 이 브랜치에서 작업 가능
```

#### 방법 3: 현재 브랜치를 버전 1.0.0으로 리셋 (주의!)

```bash
# 현재 작업 내용 백업 (선택사항)
git branch backup-before-rollback

# 현재 브랜치를 v1.0.0으로 리셋
git reset --hard v1.0.0

# ⚠️ 주의: 이 명령은 현재 브랜치의 모든 변경사항을 삭제합니다!
```

#### 방법 4: 특정 파일만 버전 1.0.0으로 복원

```bash
# 특정 파일만 버전 1.0.0으로 복원
git checkout v1.0.0 -- path/to/file

# 예시
git checkout v1.0.0 -- frontend/app/page.tsx
```

---

## 버전 태그 푸시

로컬에 생성한 태그를 원격 저장소에 푸시:

```bash
# 특정 태그 푸시
git push origin v1.0.0

# 모든 태그 푸시
git push origin --tags
```

---

## 새 버전 생성 방법

### 1. 버전 태그 생성

```bash
# 주 버전 (Major): 큰 변경사항, 하위 호환성 깨짐
git tag -a v2.0.0 -m "Version 2.0.0 - Major update"

# 부 버전 (Minor): 새로운 기능 추가, 하위 호환성 유지
git tag -a v1.1.0 -m "Version 1.1.0 - New features"

# 수정 버전 (Patch): 버그 수정, 하위 호환성 유지
git tag -a v1.0.1 -m "Version 1.0.1 - Bug fixes"
```

### 2. 태그 푸시

```bash
git push origin v2.0.0
```

### 3. VERSION.md 업데이트

새 버전 정보를 `VERSION.md`에 추가:

```markdown
### v1.1.0 (2025-01-XX)
- ✅ 새로운 기능 1
- ✅ 새로운 기능 2
- 🐛 버그 수정
```

---

## 버전 비교

### 두 버전 간 차이 확인

```bash
# v1.0.0과 현재 버전 비교
git diff v1.0.0 HEAD

# v1.0.0과 특정 커밋 비교
git diff v1.0.0 <commit-hash>

# 특정 파일만 비교
git diff v1.0.0 HEAD -- frontend/app/page.tsx
```

### 변경된 파일 목록 확인

```bash
# v1.0.0 이후 변경된 파일 목록
git diff --name-only v1.0.0 HEAD

# 통계와 함께 확인
git diff --stat v1.0.0 HEAD
```

---

## 롤백 체크리스트

버전 1.0.0으로 롤백하기 전 확인사항:

- [ ] 현재 작업 내용 백업 (필요시)
- [ ] 롤백할 버전 태그 확인 (`git tag -l`)
- [ ] 롤백 방법 선택 (체크아웃/리셋/파일 복원)
- [ ] 롤백 후 테스트 수행
- [ ] 데이터베이스 마이그레이션 필요 여부 확인
- [ ] 의존성 패키지 버전 확인

---

## 주의사항

1. **데이터베이스 호환성**: 버전 롤백 시 데이터베이스 스키마 변경이 있을 수 있습니다. 필요시 데이터베이스 백업을 먼저 수행하세요.

2. **의존성 패키지**: 버전 롤백 후 `requirements.txt`와 `package.json`의 의존성 버전도 확인하세요.

3. **환경 변수**: 버전에 따라 필요한 환경 변수가 다를 수 있습니다.

4. **백업**: 롤백 전 현재 상태를 백업하는 것을 권장합니다:
   ```bash
   git branch backup-$(date +%Y%m%d-%H%M%S)
   ```

---

## 버전 히스토리

| 버전 | 날짜 | 주요 변경사항 |
|------|------|--------------|
| v1.0.0 | 2025-01-06 | 초기 안정 버전 릴리스 |

---

**마지막 업데이트**: 2025-01-06

