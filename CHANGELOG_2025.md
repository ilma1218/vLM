# 개발 기록 - 2025년

## 오늘 작업 내용 요약

### 1. History 페이지 개선
- **OCR 결과 자동 새로고침 제거**: 사용자가 직접 새로고침 버튼을 눌러야만 목록이 갱신되도록 변경
- **이전/다음 레코드 이동 기능**: History 상세보기에서 `←` `→` 버튼과 키보드 단축키로 다른 레코드로 이동 가능
- **같은 파일명 처리 개선**: 같은 파일명이라도 새로 업로드한 파일은 별도 그룹으로 표시 (10분 이상 시간 차이 기준)
- **History 페이지 자동 새로고침 제거**: 페이지 포커스 시 자동 새로고침 및 30초 주기 자동 새로고침 제거

### 2. 프롬프트 관리 기능
- **프롬프트 입력/수정 기능**: OCR 프롬프트를 입력하고 수정할 수 있는 UI 추가
- **프롬프트 클릭 편집**: 프롬프트 영역을 클릭하면 바로 편집 모드로 전환
- **프롬프트 영구 저장**: localStorage에 저장하여 페이지 새로고침 후에도 유지
- **저장된 프롬프트 목록**: 저장된 프롬프트를 목록으로 보여주고 불러오기 가능
- **프롬프트 저장 다이얼로그**: 프롬프트 저장 시 이름을 지정할 수 있는 다이얼로그 추가
- **프롬프트 삭제 기능**: 저장된 프롬프트를 삭제할 수 있는 기능

### 3. 크롭 영역 기능 개선
- **크롭 완료 시 영역 추가/업데이트 버튼**: 크롭 완료 시 파란색 박스로 안내하고 버튼 표시
- **드래그로 크롭 영역 이동**: 저장된 크롭 영역을 마우스로 드래그하여 이동 가능
- **시각적 피드백 개선**: 편집 중, 드래그 중 상태에 따라 색상 변경

### 4. UI/UX 개선
- **서비스 타이틀 변경**: "Region-Specific OCR Service" → "IO-VISION OCR - 특정영역추출 서비스"
- **프롬프트 텍스트 색상**: 검은색으로 명확하게 표시
- **프롬프트 저장 다이얼로그 입력창**: 텍스트 색상을 검은색으로 설정

## 주요 변경 파일

### Backend
- `backend/main.py`: 
  - History API 개선 (시간 기반 그룹 분리)
  - OCR API에 custom_prompt 파라미터 추가

### Frontend
- `frontend/app/page.tsx`:
  - 프롬프트 입력/수정 UI 추가
  - 저장된 프롬프트 목록 기능
  - 크롭 영역 드래그 이동 기능 개선
  - 크롭 완료 시 영역 추가/업데이트 버튼 UI 개선
  - 서비스 타이틀 변경
  - localStorage를 통한 프롬프트 저장

- `frontend/app/monitor/page.tsx`:
  - 자동 새로고침 제거
  - 이전/다음 레코드 이동 기능
  - 같은 파일명 처리 개선

## Git 커밋

커밋 완료: `feat: OCR 서비스 기능 개선 및 UI 업데이트`
- 6개 파일 변경
- 1,989줄 추가, 216줄 삭제

## 다음 작업 예정

- Git 푸시 완료 (인증 필요)
- 추가 기능 테스트 및 버그 수정



